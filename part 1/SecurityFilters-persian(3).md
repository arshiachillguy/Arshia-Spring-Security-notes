# فیلترهای امنیتی در جاوا (با تمرکز بر Spring Security)

در برنامه‌های وب جاوا، **فیلترهای امنیتی** کامپوننت‌هایی هستند که درخواست‌های HTTP را قطع کرده و قوانین امنیتی را قبل از رسیدن به منطق برنامه اعمال می‌کنند.

## فیلتر امنیتی چیست؟

- **نوع**: `javax.servlet.Filter`
- **کاربرد**:
  - احراز هویت (لاگین، اعتبارسنجی JWT)
  - کنترل دسترسی (بررسی نقش کاربران)
  - مدیریت هدرها (CORS, CSRF)
  - ثبت رویدادها (Logging/Auditing)

## فیلترهای کلیدی در Spring Security

| فیلتر | توضیحات |
|-------|---------|
| `SecurityContextPersistenceFilter` | مدیریت وضعیت احراز هویت کاربر |
| `UsernamePasswordAuthenticationFilter` | پردازش لاگین فرمی |
| `BasicAuthenticationFilter` | پردازش احراز هویت Basic HTTP |
| `BearerTokenAuthenticationFilter` | اعتبارسنجی توکن‌های JWT/OAuth2 |
| `AnonymousAuthenticationFilter` | کاربر ناشناس برای درخواست‌های بدون احراز هویت |
| `CsrfFilter` | محافظت در برابر حملات جعل درخواست |
| `AuthorizationFilter` | بررسی مجوزهای دسترسی نهایی |

## نحوه عملکرد

1. درخواست وارد زنجیره فیلترها می‌شود
2. هر فیلتر به ترتیب درخواست را پردازش می‌کند
3. در صورت عدم احراز هویت: خطای 401
4. در صورت عدم دسترسی: خطای 403
5. در صورت تایید: درخواست به کنترلر می‌رسد

